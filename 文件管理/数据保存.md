# 数据保存

## 存储介质

### HDD（机械硬盘）

通过盘片的磁性来保存信息，磁头来读取盘片上的信息。

优点：

1. 便宜
2. 有噪音。通过盘片的转动来读取和写入数据。
3. 数据冷保存。但是它也会消磁。

缺点：

1. 容易损坏：依靠盘片和磁头这种机械结构来实现存储所以很容易损坏。震动，磕碰都很容易使硬盘损坏，特别是硬盘通电时。
2. 不便携：易损坏

### SSD（固态硬盘）

利用电子来保存数据。

优点：

1. 读写速度快
2. 无噪音
3. 防震，抗摔性较高
4. 便携

缺点：

1. 价格高
2. 损坏时不可挽救。现在的数据修复技术很难在损坏的半导体芯片中救回数据。
3. 长期不使用静置时数据消失。因为SSD依靠电子来保存数据，如果长时间不通电，电子会开始从浮栅晶体管中逃离，最终会导致浮栅晶体管的电压状态改变，导致数据不可读。就较少使用的“冷数据”存储来说，SSD原本就不符合存储容量效益，一般的大量数据归档保存，还是以机械硬盘、磁带较为适当。

### HHD（混合硬盘）

没用的玩意。

### 光盘

利用激光刻在涂料上来保存数据。光盘受保存环境的影响太大。湿度、空气质量等等都会影响光盘的存储寿命。大部分的光盘存储空间不大。

### 磁带

很便宜的存储介质，但是磁带机太贵了。

## 数据压缩打包

数据打包压缩，把许多的小文件变成了大文件，管理更方便。移动拷贝也更快了。

### 压缩格式

7z：压缩和解压都太慢了，不推荐使用。

zip：有些压缩软件压缩的的zip不支持Unicode文件名，比如7-Zip的zip。解压的机器如果和压缩机器的编码不一样时，解压出来的文件会乱码。解决这个问题要先设置压缩包语言再解压，极其麻烦。

rar：优秀的压缩格式，只不过软件收费。

### 分卷

分卷压缩包方便我们传输。

每卷大小设置为2GB (2*1024mb)

### 字典大小

直接默认吧。

### 修复记录

当下载时最后差一点，或者网络波动导致文件损害，可以恢复文件。

压缩文件时添加3%的恢复记录。

### 解压密码

有时候我们要把文件上传到网盘或者云服务器里，一些服务商会去扫描你的文件是否合法，如果不合法服务商会直接删除，一些国外的网盘产品也会去扫描你的文件并且打击非法文件。这就需要我们我们给压缩包添加解压密码。

密码长度：10

密码设置要包含：A-Z、a-z、0-9、键盘可以直接打出来的英文特殊符号。

密码只是是为了不让服务商去解压，所以建议把压缩密码写在文件名的开头添加[uzpw=<密码>]（unzip password）

### 加密文件名。

在设置压缩密码时记得勾选加密文件名

并且你可以在目录下创建一个没有压缩密码的压缩包，用于展示加密的压缩包的大致内容。

目录结构如下：

```powershell
Folders
├── item1
└── item2
    ├── Preview.rar
    ├── meta.txt
    ├── [uzpw=ABCabc012.]item2.part1.rar
    ├── [uzpw=ABCabc012.]item2.part2.rar
    ├── sha-
    └── [uzpw=ABCabc012.]item2.part3.rar
```

文件虽然都加密了，但是目录结构中item1,item2如何包含敏感词怎么办？我要把项目名代号化。这个后面会在文件索引数据库里讲解。

## 数据备份

### 3-2-1原则

* 3：存储 3 份完整文件，一份原件加上两份拷贝。
* 2：将文件起码保持在两种不同的介质上。
* 1：将一份拷贝保存在异地。

### 个人数据备份方案

数据安全在于多备份。

光盘和磁带这里就不推荐个人使用了，单个光盘可以存储的空间很小，光盘的保存也很麻烦，磁带机也特别的贵，个人就别折腾。

不组Raid

给每个硬盘贴标签编号。在根目录写一个READDME文件，写入信息，设置为不可更改。

一份正常的日常使用

一份冷备份

一个热备份

两个份热数据挂了一个后

硬盘损坏，数据丢失，但是你不知道怎么办。

数据校验工具，您可以使用校验和校验、CRC校验

定期校验。**校验和**

光盘花屏。

## 云备份

百度网盘用作数据备份挺合适的。早期多开几个网盘账号，一个手机机号能开5个号。也就是10T多的空间。

只作为备份来使用，两个备份都挂掉后才会去下载，开一个月会员全部下载下来。

虽然现在百度不怎么牛逼了，但毕竟是老牌厂商。


## 文件完整度检测

### 建立关系数据库

某个文件存放在那个硬盘下，备份保存在哪个硬盘下，云备份保存在那个平台大

| 文件名 | 文件位置 | 冷备份位置 |   云备份   |
| :----: | :------: | :--------: | :--------: |
|   aa   |  硬盘A  |   硬盘B   | 厂商\@账号 |

## 文件索引数据库
